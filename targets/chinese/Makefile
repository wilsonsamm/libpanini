chinese: wt autogen readings
	touch $(PANINI)/tools/wiktionary/chinese.panini
	cat $(PANINI)/tools/wiktionary/chinese.panini src/wt | sort | uniq > ./wt
	mv ./wt	src/
	$(PANINI)/tools/pcomp/pcomp -d src -i src/main -o chinese

# Get the new words from Chinese wiktionary.
wt:
	touch $(PANINI)/tools/wiktionary/chinese.panini
	touch $(PANINI)/tools/cedict/chinese.panini
	cat $(PANINI)/tools/wiktionary/chinese.panini $(PANINI)/tools/cedict/chinese.panini src/wt | sort | uniq > ./wt
	mv ./wt	src/
	touch wt

# Get the autogenerated syntax tree
autogen:
	cp $(PANINI)/tools/autogen/autogen-chinese.panini src/
	touch autogen

readings:
	cp $(PANINI)/tools/cjk/*.panini src
	touch readings

install:
	cp chinese /usr/panini/targets
	
clean:
	rm -rf chinese wt autogen readings

deepclean: clean
	rm -rf src/vocab.out
